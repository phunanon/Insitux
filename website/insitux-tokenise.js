(()=>{"use strict";var t={d:(e,r)=>{for(var s in r)t.o(r,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:r[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.d(e,{tokenise:()=>ut});var r={};t.r(r),t.d(r,{abs:()=>B,ceil:()=>z,charCode:()=>k,codeChar:()=>w,concat:()=>b,cos:()=>F,ends:()=>f,flat:()=>x,floor:()=>$,getTimeMs:()=>q,has:()=>p,isArray:()=>u,isNum:()=>c,len:()=>i,log10:()=>Q,log2:()=>J,logn:()=>H,lowerCase:()=>N,max:()=>W,min:()=>D,objKeys:()=>P,padEnd:()=>j,push:()=>g,randInt:()=>E,randNum:()=>A,range:()=>T,reverse:()=>C,round:()=>U,sign:()=>G,sin:()=>_,slen:()=>a,slice:()=>n,sortBy:()=>M,splice:()=>o,sqrt:()=>L,starts:()=>y,strIdx:()=>d,sub:()=>h,subIdx:()=>m,substr:()=>l,tan:()=>K,toNum:()=>s,trim:()=>S,trimEnd:()=>O,trimStart:()=>I,upperCase:()=>v});const s=t=>Number(t),n=(t,e,r)=>t.slice(e,r),o=(t,e,r)=>t.splice(e,r),i=t=>t.length,a=t=>t.length,c=t=>!Number.isNaN(Number(t)),u=t=>Array.isArray(t),l=(t,e,r)=>t.substring(e,e+(r??t.length)),d=(t,e)=>t[e],h=(t,e)=>t.includes(e),m=(t,e)=>t.indexOf(e),p=(t,e)=>t.includes(e),y=(t,e)=>t.startsWith(e),f=(t,e)=>t.endsWith(e),x=t=>t.flat(),b=(t,e)=>t.concat(e),g=(t,e)=>t.push(...e),M=(t,e)=>t.sort(e),C=t=>t.reverse(),N=t=>t.toLowerCase(),v=t=>t.toUpperCase(),S=t=>t.trim(),I=t=>t.trimStart(),O=t=>t.trimEnd(),j=(t,e)=>t.padEnd(e),k=t=>t.charCodeAt(0),w=t=>String.fromCharCode(t),A=(t,e)=>t+Math.random()*(e-t),E=(t,e)=>Math.floor(A(t,e)),T=t=>[...Array(t).keys()],P=t=>Object.keys(t),q=()=>(new Date).getTime(),B=Math.abs,D=Math.min,W=Math.max,_=Math.sin,F=Math.cos,K=Math.tan,L=Math.sqrt,U=Math.round,$=Math.floor,z=Math.ceil,G=Math.sign,H=Math.log,J=Math.log2,Q=Math.log10,{concat:R,has:V,flat:X,push:Y,slice:Z,splice:tt}=r,{slen:et,starts:rt,sub:st,substr:nt,strIdx:ot}=r,{isNum:it,len:at,toNum:ct}=r;function ut(t,e,r=!0,s=!1){const n=[];let o=!1,i=!1,a=[0,0],c=!1,u=!1,l=!1,d=!1,h=1,m=0;for(let p=0,y=et(t);p<y;++p){const f=ot(t,p),x=p+1!==y?ot(t,p+1):"";if(++m,d){"\n"===f?(d=!1,++h,m=0):s&&(n[at(n)-1].text+=f);continue}if(i){i=!1,o&&(n[at(n)-1].text+={n:"\n",t:"\t",r:"\r",'"':'"'}[f]||`\\${f}`);continue}if("\\"===f){i=!0;continue}if('"'===f){(o=!o)&&(a=[h,m],n.push({typ:"str",text:"",errCtx:{sourceId:e,line:h,col:m}})),u=c=!1;continue}const b=st(" \t\n\r,",f);if(!o&&b){u=c=!1,"\n"===f&&(++h,m=0);continue}if(!o&&";"===f){d=!0,s&&n.push({typ:"rem",text:"",errCtx:{sourceId:e,line:h,col:m}});continue}const g={sourceId:e,line:h,col:m},M=t=>st("0123456789",t),C=st("()[]{}",f);if(u&&!M(f)){const t="x"===f&&"0"===n[at(n)-1].text;l=l||t,u="b"===f&&"0"===n[at(n)-1].text||"."===f&&!st(n[at(n)-1].text,".")||l&&(t||st("ABCDEFabcdef",f)),u||C||b||(c=!0,n[at(n)-1].typ="sym")}if(c&&C&&(c=!1),!o&&!c&&!u){if(C){const t={"[":"(","{":"(","(":"(",")":")","}":")","]":")"}[f];n.push({typ:t,text:r?t:f,errCtx:g}),r&&("["===f?n.push({typ:"sym",text:"vec",errCtx:g}):"{"===f&&n.push({typ:"sym",text:"dict",errCtx:g}));continue}u=M(f)||"."===f&&M(x)||"-"===f&&(M(x)||"."===x),l=!1,c=!u;const t=c?"sym":"num";n.push({typ:t,text:"",errCtx:g})}n[at(n)-1].text+=f}return{tokens:n,stringError:o?a:void 0}}window.insituxTokenise=e.tokenise})();
//# sourceMappingURL=insitux-tokenise.js.map